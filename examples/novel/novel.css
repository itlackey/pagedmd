/* Novel-specific styling */

:root {
  --font-body: "Palatino", "Georgia", serif;
  --font-heading: "Garamond", "Georgia", serif;
}

/* Book-specific page setup */
@page {
  size: 6in 9in;
  margin: 0.75in 0.625in 0.75in 0.875in;
}

/* Different margins for left/right pages */
@page :left {
  margin-left: 0.875in;
  margin-right: 0.625in;
}

@page :right {
  margin-left: 0.625in;
  margin-right: 0.875in;
}

/* Running headers */
h1 {
  string-set: chapter content();
}

@page :left {
  @top-left {
    content: "The Markdown Chronicles";
    font-size: 9pt;
    font-style: italic;
    color: #666;
  }
  @bottom-left {
    content: counter(page);
    font-size: 9pt;
  }
}

@page :right {
  @top-right {
    content: string(chapter);
    font-size: 9pt;
    font-style: italic;
    color: #666;
  }
  @bottom-right {
    content: counter(page);
    font-size: 9pt;
  }
}

/* No headers on first page of chapters */
@page chapter-start {
  @top-left { content: none; }
  @top-right { content: none; }
}

/* Chapter titles */
h1 {
  break-before: page;
  page: chapter-start;
  font-size: 18pt;
  font-weight: normal;
  text-align: center;
  margin-top: 2in;
  margin-bottom: 1.5in;
  font-family: var(--font-heading);
}

/* Section breaks */
h2 {
  text-align: center;
  font-size: 12pt;
  font-weight: normal;
  margin: 2em 0;
}

/* Body text */
body {
  font-family: var(--font-body);
  font-size: 11pt;
  line-height: 1.5;
  text-align: justify;
  hyphens: auto;
}

/* Paragraph formatting */
p {
  margin: 0;
  text-indent: 0;
}

/* First paragraph - no indent */
h1 + p,
h2 + p,
.no-indent {
  text-indent: 0;
}

/* Subsequent paragraphs - indent */
p + p {
  text-indent: 1.5em;
}

/* Drop cap for chapter openings */
h1 + p::first-letter {
  float: left;
  font-size: 3.5em;
  line-height: 0.85;
  margin: 0 0.1em 0 0;
  font-family: var(--font-heading);
}

/* Block quotes (italics for thoughts) */
blockquote {
  font-style: italic;
  margin: 1em 2em;
  border: none;
  padding: 0;
}

/* Scene breaks */
hr {
  border: none;
  text-align: center;
  margin: 2em 0;
}

hr::after {
  content: "* * *";
  letter-spacing: 1em;
}

/* Prevent widows and orphans */
p {
  orphans: 2;
  widows: 2;
}

/* Keep dialogue together */
p:has-text(""") {
  break-inside: avoid;
}

/* Frontmatter styling */
.frontmatter {
  text-align: center;
  font-family: var(--font-heading);
}

.frontmatter h2 {
  font-size: 14pt;
  margin-top: 3in;
}

/* Copyright page */
.copyright {
  font-size: 9pt;
  margin: 3in 1in 0 1in;
  text-align: left;
  line-height: 1.4;
}

/* Dedication */
.dedication {
  margin-top: 3in;
  text-align: center;
  font-style: italic;
  font-size: 12pt;
}
